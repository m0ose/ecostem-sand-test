<html>
<body>
<script src="../numeric-1.2.6.js"></script>
<script src="plot.js"></script>
<script src="arrayMod.js"></script>
<script src="fundMatrix.js"></script>
<canvas id="graphEpinode" width="800" height="500"></canvas>
<script>

    var x1 = [[5,3,4,6,8,8,6,4,3,2],
          [5,4,7,5,3,4,7,8,9,6],
          [1,1,1,1,1,1,1,1,1,1]];

    var x2 = [[4,6,4,6,8,5,6,4,3,2],
          [5,4,7,5,3,8,7,7,2,6],
          [1,1,1,1,1,1,1,1,1,1]];

     var x4 = [[208,238,50,175,252,92,269,265,65,195,206,140,53,40,139,193,228,203,109,257,244,206,197,112,71,114,229,269,218,40,274,219,163,275,272,241,185,202,172,51,115,54,253,56,215,96,37,98,285,185,81,238,171,231,206,213,120,244,130,222,210,281,240,101,276,188,200,187,130,96,214,205,143,125,64,167,164,117,258,280,160,242,123,276,249,262,182,123,136,247,271,228,30,168,220,255,163,173,194,116,58,95,205,60,249,174,236,120,221,222,36,274,52,122,47,124,210,50,176,187,237,241,210,259,114,44,198,105,181,30,133,148,197,149,56,98,255,166,194,133,208,234,231,166,199,235,123,223,212,109,130,92,218,170,166,46,35,230,128,127,204,261,221,270,250,248,110,230,149,127,266,247,239,54,200,231,208,204,133,106,62,269,201,185,93,259,191,151,192,289,257,245,198,140,123,93,148,269,64,221,97,68,138,147,47,188,265,245,99,151,242,109,103,218,271,121,55,225,36,104,167,183,149,241,261,237,191,260,236,182,145,272,75,128,232,180,58,226,57,188,204,180,276,68,104,65,40,253,139,194,210,265,67,163,205,106,238,86,95,222,290,259,244,280,109,220,224,276,93,225,86,130,30,252,97,42,56,114,41,98,228,153,116,214,285,213,105,265,40,258,186,221,189,215,194,258,201,268,162,247,258,124,68,230,212,109,184,269,119,199,230,135,150,204,38,232,106,200,78,253,65,229,183,243,75,122,127,272,136,88,215,207,94,197,212,247,185,237,245,63,127,195,262,245,120,284,169,138,148,251,124,202,206,241,176,225,243,199,144,124,278,40,170,109,221,243,211,242,200,207,251,241,236,254,285,61,87,246,185,206,214,282,35,92],[147,84,165,179,93,168,153,72,160,67,146,115,161,171,77,207,84,160,90,114,82,211,66,100,142,126,79,152,165,201,65,123,123,142,67,104,148,80,89,153,128,206,119,123,157,171,161,131,100,179,78,94,164,198,71,101,79,81,122,64,75,142,169,77,141,68,111,63,86,191,67,113,134,109,126,68,107,96,55,132,157,75,183,59,79,126,212,122,104,80,71,53,209,156,197,77,100,128,181,91,137,164,94,167,112,114,123,121,211,148,190,74,176,65,122,96,131,136,80,77,114,119,60,163,105,121,198,116,154,205,127,120,63,141,172,136,130,193,122,137,190,149,82,103,158,107,163,160,113,68,123,152,162,111,137,237,152,94,191,106,142,59,191,126,164,62,170,155,135,96,119,100,66,191,75,163,102,201,180,92,128,114,69,210,124,167,130,126,142,141,65,66,63,88,147,118,137,113,178,120,74,183,130,75,150,168,144,167,105,112,62,152,72,166,146,131,133,126,174,181,108,176,134,159,127,132,56,105,213,217,117,134,69,175,130,129,140,167,124,61,72,58,94,186,127,131,170,118,136,205,213,165,138,144,155,158,101,166,138,161,154,100,161,102,80,62,203,111,148,84,161,111,200,72,166,150,168,119,200,167,189,83,147,148,149,81,94,99,207,67,86,191,67,195,68,51,118,151,140,104,105,100,127,99,67,103,140,48,145,198,167,158,135,203,194,131,165,152,79,73,154,105,89,67,77,159,110,57,159,184,96,58,123,78,150,66,177,155,159,131,64,105,101,110,90,161,104,154,87,109,152,85,64,108,141,98,114,159,93,189,121,155,69,142,200,101,145,75,64,195,154,165,221,75,154,176,144,68,213,67,152,70,191,146],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

    var x3 = [[914,1066,138,766,1130,330,1173,1197,234,861,906,637,149,69,618,989,1026,890,362,1141,1098,1018,874,394,253,426,1034,1173,957,113,1242,970,698,1205,1234,1077,810,890,741,125,437,206,1125,117,946,346,34,330,1261,806,170,1066,742,1261,917,949,437,1098,570,1002,933,1226,1050,298,1205,826,885,821,554,362,954,906,653,474,186,709,698,426,1173,1226,706,1093,554,1258,1117,1162,957,474,610,1109,1226,1034,53,722,1150,1146,693,746,846,418,154,341,906,205,1109,749,1045,458,1150,978,69,1237,162,437,42,469,930,93,757,821,1058,1069,938,1130,421,21,1005,362,789,50,597,677,874,1022,189,341,1130,866,853,602,1022,1034,1042,709,869,1045,493,981,938,346,581,309,957,730,714,181,21,1029,594,490,898,1189,1150,1194,1093,1125,429,1013,682,485,1178,1106,1082,193,885,1013,917,1018,614,346,173,1194,885,970,298,1130,842,682,842,1258,1162,1109,874,629,490,293,677,1194,249,981,277,506,629,661,90,822,1162,1074,314,682,1098,410,309,957,1186,469,122,997,37,405,714,798,682,1058,1157,1050,842,1162,1037,938,661,1194,106,586,1029,786,157,989,125,826,906,786,1234,510,362,197,66,1125,637,994,1018,1157,221,701,901,405,1066,282,322,978,1258,1162,1069,1245,362,989,1150,1221,314,1013,282,565,34,1141,357,53,186,426,126,362,1246,682,442,941,1237,949,346,1186,126,1173,813,1150,834,1022,853,1178,885,1170,693,1106,1154,469,218,1029,949,378,805,1234,466,1009,1005,622,682,1017,89,1029,405,874,149,1141,229,1018,794,1106,122,490,490,1237,625,309,954,917,298,869,938,1117,806,1042,1074,186,469,853,1173,1093,437,1226,725,638,666,1114,493,893,917,1077,765,1005,1082,869,650,565,1226,42,725,405,1150,1090,933,1093,885,1022,1098,1058,997,1146,1237,226,277,1114,970,917,941,1269,61,309],[437,178,398,575,221,533,461,133,381,77,434,229,378,422,18,610,170,490,165,314,170,618,74,213,282,341,149,458,506,590,101,341,333,421,109,266,442,146,173,325,349,622,330,138,477,538,362,362,261,562,82,218,509,538,101,245,106,165,266,74,122,421,517,85,418,77,290,45,74,621,85,298,330,266,173,69,261,194,50,389,509,138,597,74,154,362,622,325,170,162,130,21,629,477,545,149,226,357,569,170,229,514,213,414,298,293,341,314,609,442,529,141,461,26,117,197,373,218,133,122,306,330,53,498,237,106,578,298,469,609,290,266,58,510,441,389,373,554,330,338,512,445,165,245,482,277,501,486,298,37,274,458,498,282,394,517,298,218,582,245,421,69,513,362,501,74,538,469,341,197,333,250,90,542,122,498,250,577,537,170,186,314,90,618,330,506,365,301,418,418,93,90,58,82,437,301,349,309,481,330,69,506,301,13,306,521,429,514,234,234,74,458,58,510,437,365,205,357,437,581,266,550,338,485,365,378,18,277,597,597,245,394,26,514,373,362,254,514,146,42,109,21,234,514,346,205,417,330,333,605,621,506,254,422,469,485,250,522,394,490,466,250,490,266,106,66,574,301,442,170,501,210,581,125,522,298,418,309,582,522,510,82,437,442,445,154,181,250,622,106,170,513,74,512,82,29,322,457,409,269,277,218,186,242,85,229,410,18,426,574,517,441,341,606,550,373,517,458,85,130,349,266,181,93,74,490,266,66,446,597,221,37,325,133,453,98,557,469,485,205,26,261,261,293,162,490,245,385,90,290,458,170,69,282,413,234,309,486,114,578,341,325,74,418,574,250,429,138,66,574,466,506,618,138,469,469,426,106,629,85,458,130,534,437],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

     var x5 = [[14,195,171,127,234,162,217,89,109,112,167,201,147,109,211,116,110,158,196,18,75,68,195,96,42,197,176,179,97,129],[133,166,126,104,72,187,181,79,87,219,167,70,205,166,44,173,135,67,75,148,188,149,190,195,141,143,78,203,86,223],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

     var x6 = [[170,1105,933,441,1086,922,1242,133,286,682,938,865,833,526,682,590,382,593,846,170,213,126,1121,341,170,1105,734,1037,198,682],[426,385,186,254,31,509,445,145,173,597,405,31,609,450,202,478,408,33,62,469,629,505,502,618,426,270,94,569,178,618],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]];

var F = fundmatrix.estimateF(x5,x6);
var epipoles = fundmatrix.epipole(F)//fundmatrix.epipole(F);

//console.log(F);
//console.log(epipoles.e1);
//console.log(epipoles.e2);

var line = numeric.transpose(numeric.dot(F,x5));
var canvas = document.getElementById('graphEpinode')
for(var i=0;i<line.length;i++) {

     plot(line[i], canvas);
}

epnode = fundmatrix.epinode(line);

document.writeln("<br><br><br>Epinode: (" + epnode[0] + ",   " + epnode[1] + ")");

</script>
</body>
</html>
